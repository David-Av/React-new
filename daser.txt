*******************************************************************
nayi noric Provideri masin u contexti masin u reducerner@ karevor u dispatch@ 
das64(SHAT USHADIR NAYEL MASIVI METODNEROV ESI ESIMINCHER AREC some metod@ ushadir )

*******************************************************************
//////////////////////////////////////////////////
das56
componentner@ linum en presentacion presentacioni imast@ ena vor propserov danniner stana return ani mez jsx et danninerov linum en classovi dranq classner en voric stexcvum en objectner u classovinern el ajax zaprosner u tenc baner en anum isk containerniner@ shpvum en stori het presentacion@ ptat@m enq classovi-i mej classovi-in container componenti mej u sax texapoxecinq Users_Contaoner-i mej aysinqn connecti component@ ashxatuma storei het class@ ashxatuma ajax zaprosi hamar presentacion-nn el cuyca talis sax

///////////////////////////////////////////////////////
das57
sarqum enq preloader avelacrecinq preloader@ state-um avelacrecinq isFetching hatkutyun@ ete true a cuyca talis preloader@ ete false a chi cuyc talis u eti sax grel enq ajax zaprosneri logikayum componentDidMount-um mekel ej@ poxelu functiayum hanecinq arancin component sarqecinq preloader@
////////////////////////////////////////////////////////
das58
poxum enq mapDispatch to props@ refactoring 
let mapDispatchToProps = (dispatch) => {
  return {
    follow: (userId) => {
      dispatch(followAC(userId));
    },
    unFollow: (userId) => {
      dispatch(unFollowAC(userId));
    },
    setUsers: (users) => {
      dispatch(setUsersAC(users));
    },
    setCurrentPage: (pageNumber) => {
      dispatch(setCurrentPageAC(pageNumber));
    },
    setTotalUsersCount: (totalCount) => {
      dispatch(setUsersTotalCountAC(totalCount));
    },
    toggleIsFetching: (isFetching) => {
      dispatch(setIsFetchingAC(isFetching));
    },
  };
};
let mapDispatchToProps1 =
   {
    follow: followAC,
    unFollow: unFollowAC,
    setUsers: setUsersAC,
    setCurrentPage: setCurrentPageAC,
    setTotalUsersCount:setUsersTotalCountAC,
    toggleIsFetching: setIsFetchingAC
    }
    connecti mej arajiN@ tex@ poxancecinq prost@ es object@ u chem jog@m vonc ashxatuma heto vabshe ay senc 
    {
  followAC,
  unFollowAC,
  setUsersAC,
  setCurrentPageAC,
  setUsersTotalCountAC,
  setIsFetchingAC,
}
vobshem knayes anpayman noric
aysinqn karum enq senc poxancenq isk es reacr-redux@ es connecti mijocov vekaluma sarquma functia mej@ dnum et argument@ vor@ menq UI-um poxancecinq dispatch a anum u ashxatuma avtomat maladec
////////////////////////////////////////////////////////////////////////das59
profile@ mej cuyc enq talu konkret mardu profil@ erb vor usersi vra sxmenq et mardu vra qcelu u profile/{u stex et useri id}
eti vonc haskaca tarber json filerica galu nuyn users json file@ chi 
vobshem sarqecinq profile@ hamar component connectov dranq knayes prost@ stex urish xndir ka profile@ mej img src zaprosica galis bayc render@ zaprosic shuta ashxatum aysinqn inq@ render a anum bayc hl@ zaprosi danniner@ chi ekel dra hamar image src chi karum karda dra hamar nkarvoc component-um stex profileInfo-um proverka enq grum ay senca linum
const ProfileInfo = (props) => {
  if(!props.profile){
    return <Preloader/>
  }
  return (
    <div>
      <img
        className={s.image}
        src="https://www.wpexplorer.com/wp-content/uploads/wordpress-image-optimization-guide.jpg"
      />
      <div></div>
      <div>
          <img src={props.profile.photos.small} alt=""/>
        ava+ description</div>
    </div>
  );
};
aysinqn dursa galis voncvor 2 angam nkarvi component@ 2rd angamic sax kberi if-i mej chi mtni el
////////////////////////////////////////////////////////////////////////das60
withRouter props.match.params
withRouter@ bardzr kargi component a dra masin heto 
hima menq erv bor users-um useri vra sxmum neq brauseri link@ poxvuma orinak darnuma profile/54 ay es 54@ petqa vercnenq u ogtagorcenq dra hamar ka hatuk functia withRouter onnecti component@ ashxatuma storei het class@ ashxatuma ajax zaprosi hamar presentacion-nn el cuyca talis sax mihatel component enq sarqum vor urli het ashxati aysinqn konkret stex es depqum profileContainer classovi component@ mihatel urish withRouter-i mej enq patatum esa tesq@
class ProfileContiner extends React.Component {
  componentDidMount() {
    axios
    .get(
      `https://social-network.samuraijs.com/api/1.0/profile/9`
    )
    .then((response) => {
     this.props.setUserProfile(response.data)
    });
      console.log(this.props);
  }
  render() {
    return <Profile {...this.props} profile = {this.props.profile}/>;
  }
}
let mapStateToProps = (state) =>({
    profile:state.profilePage.profile
})
let WithUrlDataContainerComponent = withRouter(ProfileContiner) STEX USHADIR
export default connect(mapStateToProps, {setUserProfile}) (WithUrlDataContainerComponent);
himi ProfileContiner-um props@ avelacav match objectov location objectov u history objectov u staticContextov hima menq ashxatelu enq match-i het matchi mej ka params key@ eti henc profile/{ay esi params a}
dra hamar app-um enq grum params@ route-um ay senc Route path="/Profile/:userId" render={() => <ProfileContiner />} es : sranic heto inch ka gnuma params-i mej : sranic heto inch anun grenq params objecti mej tenc key a haytvelu et anunov
////////////////////////////////////////////////////////////////
das61
login
menq login exav vaxt erb vor serverin request enq uxarkum sabshenianeri dra mej mer id-n nshvac chi urish dzeva linum amen sayt@ uni cookie skseluc eti datarka cookie-n kpcnum amen zaprosin ete menq login lineluc paroln u name@ chisht enq grum cookie-i mej grvuma mer informacian kodavorvac cookie-n uni lifetime aysinqn michev erba inq@ mnalu vor saytum sxmum es remember me eti cookie-i lifetime-i heta kapvac vor@ heto ogtagorcvuma orinak message-er@ request aneluc ka 2hat cookie mek@ localhosti hamar mek@ henc API serveri mer depqum erevi himi ashxatelu enq header-het hl@ vor senc sarqum enq auth-reducer 
`https://social-network.samuraijs.com/api/1.0/auth/me` senc request enq uxarkum u erkord parametr geti mej grum enq {withCredentials:true} object petqa sra saytum reg exac linenq et vaxt cookin im brauseri meji kta mez es request@ normal {withCredentials:true} esel grum enq vorovhetev et cros anvtangutyun@ vabshe chi toxum 2 tex zapros uxarkenq bayc senc grelov karanq stex ham mer localhosti zaprosna hamel es sayti
let {id,login,email} = response.data.data es grelu dzev@ nayi anpayman destrukturizacia
////////////////////////////////////////////////////////////////////////
das62
follow unFollow baci get zaprosic ka nayev post u delete u put
.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`,{},{withCredentials:true})
posti mej {withCredentials:true} esi poxancum enq vorpes 3rd parametr
isk delete@ 2rd parametr hamarya sax zaprosner@ baci get-ic key en uzum
gnum enq sra sayt@ account setting goyutyun uni headers vor@ amen zaprosi het galisa vorpes parametr eli zaprosi mej petqa poxancenq karas network mej urli vra sxmes nayes ete hankarc sxmeluc heto chi poxvum gna nayi du erb vor araji angam zapros es anum userneri cucak@ et depqum ,{withCredentials:true esi vorpes parametr poxancaca te che 
verjnakan sra tesq@ keyov exav senc
{u.followed ? (
                <button onClick={() =>{
                  
                  axios
                  .delete(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`,{withCredentials:true,headers:{
                    "API-KEY" : "560961f6-c212-4142-b02d-d99d0a8308d3"
                  }})
                  .then(response=>{
                    if(response.data.resultCode === 0){
                      props.unFollow(u.id)
                    }
                  })
                   }}>

                  Unfollow
                </button>
              ) : (
                <button onClick={() => {
                  axios
                    .post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`,{},{withCredentials:true,headers:{
                      "API-KEY" : "560961f6-c212-4142-b02d-d99d0a8308d3"
                    }})
                    .then(response=>{
                      if(response.data.resultCode === 0){
                        props.follow(u.id)
                      }
                    })
                  }}>
                  follow
                </button>
///////////////////////////////////////////////////////////////////
das63 DAL
data access layer
mer Ui@ petq chi vor serverin zapros ani hima nenc kanenq vor DAL-um lini dranq logikan parametrer@ src-um sarqecinq API papken mej@ api.js 
u logikan kamac kamac qcum enq @tex get@ menak taranq @ndex u container component-um et functia vor kanchecinq poxancecinq en argumentner@ vor@ vor petq er 2 hat vorovhetev props@ container componenti meja u tetevacnum enq response@ et api.js mihat then enq anum vor@ stanuma response eti veracuma menak data-in sarqecinq axios-i instance sax mej@ grecinq informacian avtomat parametrer@ inq@ dnuma ay senc url-n key@ en mi object@
const instance = axios.create({
    withCredentials:true,
    baseURL: `https://social-network.samuraijs.com/api/1.0/`,
    headers:{
        "API-KEY" : "560961f6-c212-4142-b02d-d99d0a8308d3"
      }
})

u esi hl@ vor chgidem senc kmna te che upakovka enq anum objecti mej
export const usersApi = {
     getUsers(currentPage ,pageSize){

        return instance
           .get(
             `users?page=${currentPage}&count=${pageSize}`,{withCredentials:true}
           ).then(response=>response.data)
     }
}
////////////////////////////////////////////////////////////////////////
SHAT USHADIR NAYEL MASIVI METODNEROV ESI ESIMINCHER AREC
das64 
button disabled follow/unFollow
erb vor knopkin sxmum es zaprosa uxarkum cankalia et knopken disable anel vor user@ an@ndhat chsxmi u liq@ zaporner chgna sarqum enq sax funcia ban reducernerum u senc <button disabled = {props.followingInProgres} asuma ete es znacheniyan true a uremn disable a ashxatum
////////////////////////////////////////////////////////////////////////
das65 
redux-thunk ira asac sankiner@ TEORIA
hima menq nenc en sarqel vor serveric galisa dal-in dalic UI UI-ic biznes esi shat vat chi bayc meka eli UI-@ shat gorca anum senc anum en bayc meka lav chi  aveli chisht klni vor biznes@ shpvi dal-i het dalnel serveri u amenaverjum gna sx UI stex mihat xndir ka redux@ connect@ petqa miangamic mez het tan stor@ bayc serveri zapros@ asinxron a dra hamar reduceri mej petq chi zapros anenq u @tex mez ognuma thunk@ menq dispatch einq uxarkum object bayc thunk-ov karanq thunk@ uxarkenq dispatch u ira mej grac lini actionCreatori-i logikan bayc stor@ chi karum funcia @nduni inq@ karuma menak object @nduni dispatch-i hamar dra hamar store-i u reducer aranqum mihatel sloy karanq sarqenq 
////////////////////////////////////////////////////////////////////////
das66 thunk practika
thunk enq sarqum reducer-um 
export const getUsersThunkCreator = (currentPage,pageSize)=>{
    
    return (dispatch)=>{
    dispatch(setIsFetching(true));

    usersApi.getUsers(currentPage, pageSize)
      .then((response) => {
        return (
          dispatch(setUsers(response.items)),
          dispatch(setIsFetching(false)),
          dispatch(setTotalUsersCount(response.totalCount))
        
        );
      });
    }
}
stanuma es tesq@ mihat mej@ galisa danniner@ zamikania a linum u sksvuma dranc heto urish functia-ov ashxatel erb vor poxancum enq asuma es chem kara functia dispatch anem dra hamar redux_store-um store@ sarqeluc poxancum enq 2rd argument let store = createStore(reducers,applyMiddleware()); u npm install petqa anenq redux-thunk@ import enq anum import  thunkMiddleware from "redux-thunk"; himi containeri mej grel enq senc  componentDidMount() {
    this.props.getUsers(this.props.currentPage,this.props.pageSize)
    sax es logikan 
    {u.followed ? (  
                <button disabled = {props.followingInProgres.some(id=>id==u.id)} onClick={() =>{
                  props.toggleFollowingProgress(true,u.id)
                  usersApi.unFollow(u.id)
                  .then(response=>{
                    if(response.data.resultCode === 0){
                      props.unFollow(u.id)
                    }
                    props.toggleFollowingProgress(false, u.id)
                  })
                   }}>

                  Unfollow
                </button>
              ) : (
                <button disabled = {props.followingInProgres.some(id=>id==u.id)} onClick={() => {
                  props.toggleFollowingProgress(true,u.id)
                  usersApi.follow(u.id)
                    .then(response=>{
                      if(response.data.resultCode === 0){
                        props.follow(u.id)
                      }
                      props.toggleFollowingProgress(false,u.id)
                    })
                  }}>
                  follow
                </button>
              )}
              ekav user reducer ay senc 
              export const follow = (userId)=>{

    return (dispatch)=>{
        dispatch(toggleFollowingProgress(true,userId))
        usersApi.follow(userId)
          .then(response=>{
            if(response.data.resultCode === 0){
                dispatch(followSuccess(userId))
            }
            dispatch(toggleFollowingProgress(false,userId))
          })
    }
}
export const unFollow = (userId)=>{

    return (dispatch)=>{
        dispatch(toggleFollowingProgress(true,userId))
        usersApi.unFollow(userId)
          .then(response=>{
            if(response.data.resultCode === 0){
                dispatch(unFollowSuccess(userId))
            }
            dispatch(toggleFollowingProgress(false,userId))
          })
    }
}